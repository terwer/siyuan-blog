# tech

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

## Understand this workspace

Run `nx graph` to see a diagram of the dependencies of the projects.

## Remote caching

Run `npx nx connect-to-nx-cloud` to enable [remote caching](https://nx.app) and make CI faster.

## Create new project

```bash
## project
npx create-nx-workspace zhi --package-manager=pnpm --preset=ts
```

## Init

```bash
## Vue
## https://github.com/nxext/nx-extensions/tree/main/packages/vue
pnpm add @nxext/vue -D
nx g @nxext/vue:app zhi-web-modules-blog
```

## Setup

```
pnpm install
```

## Build

```
pmpm build
```

## Lint

```
pnpm lint
```

## Test

```
pnpm test
```

## Publish

```
nx publish zhi-env --ver=0.0.1 --tag=latest
nx publish zhi-log --ver=0.0.1 --tag=latest
nx publish zhi-cli --ver=0.0.1 --tag=latest
nx publish zhi-common --ver=0.0.1 --tag=latest
nx publish zhi --ver=0.0.1 --tag=latest
nx publish zhi-sdk --ver=0.0.1 --tag=latest
nx publish zhi-blog-api --ver=0.0.1 --tag=latest
```

## Further help

Visit the [Nx Documentation](https://nx.dev) to learn more.

## Project Architecture

### Series Ecology

-   [zhi](https://github.com/terwer/zhi)

-   [zhi-cli](https://github.com/terwer/zhi-cli)

-   [zhi-sdk](https://github.com/terwer/zhi-sdk)

    -   [zhi-env](https://github.com/terwer/zhi-env)
    -   [zhi-log](https://github.com/terwer/zhi-log)
    -   zhi-core - event, schedule
    -   [zhi-common](https://github.com/terwer/zhi-common) - utils
    -   zhi-blog-api
        -   zhi-common-blog-api
            -   zhi-yuque-api
            -   zhi-liandi-api
            -   zhi-wechat-api
        -   zhi-metaweblog-api
            -   zhi-cnblogs-api
            -   zhi-wordpress-api
        -   zhi-siyuan-api
    -   zhi-electron - electron only api
    -   zhi-web - browser only api
    -   zhi-node - node only api
    -   zhi-mobile - mobile only api

-   [zhi-mini](https://github.com/terwer/zhi-mini)
-   [zhi-blog](https://github.com/terwer/zhi-blog)
-   [zhi-blog-astro](https://github.com/terwer/zhi-blog-astro)

### Core Framework

-   Infrastructure: [zhi-env](https://github.com/terwer/zhi-env) + [zhi-log](https://github.com/terwer/zhi-log)
-   Scaffold(zhi-cli): [zhi-cli](https://github.com/terwer/zhi-cli)
-   SDK (zhi-sdk): [zhi-sdk](https://github.com/terwer/zhi-sdk)
-   Theme (zhi-mini): [Vite](https://vitejs.dev/) + [TypeScript](https://www.typescriptlang.org/) + [Stylus](https://stylus-lang.com/)
-   Dynamic Blog (zhi-blog): [Nuxt framework](https://nuxt.com/) + [Vue3](https://vuejs.org/) + [Stylus](https://stylus-lang.com/)
-   Static Blog (zhi-blog-astro): [Astro](https://astro.build/) + [Vue3](https://vuejs.org/) + [Stylus](https://stylus-lang.com/)

The dependency relationship is as follows:

-   zhi-sdk
    -   zhi-core
    -   zhi-log
        -   zhi-env
    -   zhi-common
-   zhi-mini
    -   zhi-sdk
    -   zhi-electron
-   zhi-blog
    -   zhi-sdk
-   zhi-blog-astro
    -   zhi-sdk

Currently, `zhi-theme` = `zhi-mini`, which means that `zhi-theme` has been planned into `zhi-mini`.
