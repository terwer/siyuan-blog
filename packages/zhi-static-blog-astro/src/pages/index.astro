---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
const blogEntries = await getCollection("post");
---

<Layout title="Welcome to Astro.">
    <main>
        <h1>Welcome to <span class="text-gradient">Astro</span></h1>
        <p class="instructions">
            共有 {blogEntries.length} 篇文章
        </p>
        <ul role="list" class="link-card-grid">
            {blogEntries.map(blogPostEntry => (
                <li>
                    <a href={`/post/${blogPostEntry.slug}`}>{blogPostEntry.data.title ?? "无标题"}</a>
                    <time datetime={blogPostEntry.data.date?.toISOString()}>
                        {blogPostEntry.data.date?.toDateString()}
                    </time>
                </li>
            ))}
        </ul>
    </main>
</Layout>

<style>
    main {
        margin: auto;
        padding: 1.5rem;
    }
</style>
